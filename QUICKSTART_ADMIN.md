# 后台页面管理系统 - 快速开始

## 30秒快速上手

### 第1步：访问后台管理系统
```
地址: http://localhost:3000/admin.html
或: https://foxprocs.top/admin.html（生产环境）
```

### 第2步：登录管理员账户
- 使用有管理员权限的账户登录
- 系统会自动检查权限

### 第3步：进入页面管理
1. 在侧边栏点击"📄 页面管理"
2. 选择要编辑的页面（如"首页"）
3. 编辑器会加载该页面的内容

### 第4步：编辑页面内容
编辑框包含以下字段：

| 字段 | 说明 | 例子 |
|------|------|------|
| 页面标题 | 页面的主标题 | "欢迎来到FoxPro交易平台" |
| 页面描述 | 页面的副标题或简介 | "安全、快速、专业的交易体验" |
| 主要内容 | 页面的核心内容（支持HTML） | "我们提供秒合约、现货交易等..." |
| 按钮/功能文本 | 页面上的按钮文本配置 | `{"startTrading":"开始交易"}` |
| 主题颜色 | 页面的主题色 | #3b82f6 (蓝色) |
| 页面状态 | 页面的显示状态 | 激活/维护中/禁用 |
| SEO关键词 | 搜索引擎优化关键词 | "交易,合约,行情" |
| SEO描述 | 页面的元描述 | "FoxPro是一个专业的..." |

### 第5步：保存和预览
1. 点击"保存页面内容"按钮
2. 成功提示会显示"页面内容已保存！"
3. 页面预览窗口会实时更新
4. 用户访问前端页面时即可看到最新内容

## 常见任务

### 任务1：更新首页文案
```
1. 点击"首页"按钮
2. 修改"页面标题"字段为新的标题
3. 修改"主要内容"字段
4. 点击"保存页面内容"
```

### 任务2：更改页面主题色
```
1. 选择要编辑的页面
2. 点击"主题颜色"的颜色选择器
3. 选择新的颜色
4. 点击"保存页面内容"
```

### 任务3：将页面设置为维护中
```
1. 选择要维护的页面
2. 将"页面状态"改为"维护中"
3. 点击"保存页面内容"
4. 用户访问该页面时会看到"⚠️ 此页面正在维护中"的横幅
```

### 任务4：禁用一个页面
```
1. 选择要禁用的页面
2. 将"页面状态"改为"禁用"
3. 点击"保存页面内容"
4. 该页面会显示"❌ 此页面已禁用"
```

### 任务5：恢复页面默认内容
```
1. 选择页面
2. 点击"重置"按钮
3. 所有字段会清空
4. 点击"删除页面"按钮
5. 页面会恢复为默认HTML内容
```

### 任务6：添加SEO优化
```
1. 选择要优化的页面
2. 在"SEO关键词"字段输入：交易,合约,行情
3. 在"SEO描述"字段输入完整的页面描述
4. 点击"保存页面内容"
5. 搜索引擎会使用这些信息
```

## 页面状态说明

### 激活 (active)
- 页面正常显示
- 用户可以正常访问
- 不显示任何提示

### 维护中 (maintenance)
- 页面仍可访问
- 顶部显示"⚠️ 此页面正在维护中，请稍后返回"的黄色横幅
- 用户知道页面可能功能不完整

### 禁用 (disabled)
- 页面可以访问但内容隐藏
- 顶部显示"❌ 此页面已禁用"的红色横幅
- 用户无法使用该页面功能

## 数据同步

✅ **实时同步**
- 后台编辑的内容立即保存到数据库
- 前端页面在重新加载时自动获取最新内容
- 无需手动部署或重启服务器

✅ **缓存处理**
- 用户首次访问时从服务器加载
- 后续访问可能使用浏览器缓存
- 如需看到最新内容，可以硬刷新（Ctrl+Shift+R）

## API 直接调用示例

### 使用 curl 获取首页内容
```bash
curl -H "Authorization: Bearer {adminToken}" \
  http://localhost:3000/api/admin/pages/home
```

### 使用 curl 保存首页内容
```bash
curl -X POST \
  -H "Authorization: Bearer {adminToken}" \
  -H "Content-Type: application/json" \
  -d '{
    "heading": "欢迎",
    "description": "开始交易",
    "content": "内容...",
    "status": "active"
  }' \
  http://localhost:3000/api/admin/pages/home
```

### 使用 JavaScript 获取内容
```javascript
const token = localStorage.getItem('adminToken');
const response = await fetch(
  'http://localhost:3000/api/admin/pages/home',
  {
    headers: { 'Authorization': `Bearer ${token}` }
  }
);
const data = await response.json();
console.log(data.data); // 页面内容对象
```

## 故障排查

### 问题：无法访问admin.html
**解决**：
- 检查是否已登录：地址栏输入 `http://localhost:3000/`
- 使用管理员账户登录：admin-login.html
- 检查浏览器控制台是否有错误

### 问题：点击页面按钮没反应
**解决**：
- 检查网络连接
- 清除浏览器缓存
- 尝试刷新页面
- 查看浏览器控制台的Network选项卡

### 问题：保存后显示错误
**解决**：
- 检查JSON字段格式是否正确（按钮字段）
- 确保已选择了有效的页面
- 检查管理员token是否仍然有效
- 查看服务器日志

### 问题：前端没有显示更新内容
**解决**：
1. 确认已在后台保存了内容
2. 硬刷新前端页面（Ctrl+Shift+R）
3. 清除浏览器localStorage：
   ```javascript
   localStorage.clear(); // 在控制台运行
   location.reload();
   ```
4. 检查page-manager.js是否正确加载

## 最佳实践

### ✅ 推荐做法
- 定期备份重要内容（复制到记事本）
- 在修改前先记下原始内容
- 使用简洁、易于理解的文案
- 为SEO优化添加有意义的关键词
- 在发布重大更新前进行测试

### ❌ 避免做法
- 不要删除还在使用的页面内容
- 不要随意禁用用户常访问的页面
- 不要在content字段放入不匹配的HTML
- 不要忽略SEO优化

## 支持的页面列表

| 页面ID | 中文名 | 文件名 | 用途 |
|--------|--------|--------|------|
| home | 首页 | index.html | 平台主页，展示功能特性 |
| about | 关于我们 | about.html | 公司信息和背景 |
| market | 行情 | market.html | 实时行情数据和K线图 |
| trade | 交易 | trade.html | 三大交易模块入口 |
| assets | 资产 | assets.html | 用户资产和持仓管理 |
| account | 账户 | account.html | 账户设置和个人信息 |
| recharge | 充值 | recharge.html | 充值管理界面 |
| withdraw | 提现 | withdraw.html | 提现申请界面 |
| customer-support | 客服支持 | customer-support.html | 客户服务和反馈 |
| terms | 服务条款 | terms.html | 平台使用条款 |

## 下一步

了解更多详细信息，请参考：
- [ADMIN_GUIDE.md](ADMIN_GUIDE.md) - 完整的管理员指南
- [ADMIN_SYSTEM_UPDATE.md](ADMIN_SYSTEM_UPDATE.md) - 系统更新说明
- [README.md](README.md) - 项目总览

## 需要帮助？

- 查看浏览器开发者工具（F12）的控制台日志
- 检查服务器日志了解API错误
- 验证管理员token是否有效
- 确保SQLite数据库文件可写入
